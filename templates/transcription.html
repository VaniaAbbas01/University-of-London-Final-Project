<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Transcription</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles.css') }}"
    />
  </head>
  <body class="transcription-page">
    <div class="header">
      <h1 class="app-title">SpeakEasy</h1>
      <h2 class="page-subtitle">Review Your Transcription</h2>
      <p class="instruction-text">
        Please review and edit the transcription below before proceeding to
        analysis. You can make any necessary corrections to ensure accuracy.
      </p>
    </div>

    <div class="transcription-container">
      <div class="progress-bar">
        <div class="progress-fill"></div>
      </div>

      <div class="form-header">
        <span class="form-header-text">Transcribed Content</span>
      </div>

      <form
        action="{{ url_for('analysis.analyse') }}"
        method="POST"
        id="transcriptionForm"
      >
        <div class="textarea-wrapper">
          <label for="transcription" class="textarea-label"
            >Your Speech Transcription:</label
          >
          <textarea
            name="transcription"
            id="transcription"
            class="transcription-textarea"
            placeholder="Your transcription will appear here..."
            required
          >
{{ transcription }}</textarea
          >
          <div class="char-counter">
            <span id="charCount">0</span> characters
          </div>
        </div>

        <div class="action-section">
          <button
            type="button"
            class="custom-button secondary-button"
            onclick="goBack()"
          >
            Go Back
          </button>
          <button type="submit" class="custom-button" id="confirmBtn">
            Analyze Speech
          </button>
        </div>
      </form>

      <div class="tips-section">
        <div class="tips-header">
          <strong>Tips for Better Analysis</strong>
        </div>
        <ul class="tips-list">
          <li>Check for proper punctuation</li>
          <li>Correct any misheard words</li>
          <li>Ensure speaker transitions are clear</li>
          <li>Add missing words or phrases</li>
          <li>Verify technical terms and names</li>
        </ul>
      </div>
    </div>

    <div class="loading-overlay" id="loadingOverlay">
      <div class="loading-content">
        <div class="loading-spinner"></div>
        <h3>Analyzing Your Speech...</h3>
        <p>This may take a few moments</p>
      </div>
    </div>

    <script
      rel="javascript"
      src="{{ url_for('static', filename='script.js') }}"
    ></script>
  </body>
</html>

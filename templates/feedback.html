<!DOCTYPE html>
<html>
  <head>
    <title>Speaking Feedback Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      body {
        font-family: sans-serif;
        padding: 20px;
      }
      .section {
        margin-bottom: 30px;
      }
    </style>
  </head>
  <body>
    <h1>Speaking Feedback</h1>

    <div class="section">
      <h2>Confidence Score: <span id="confidenceScore">--%</span></h2>
      <h3>Filler Words Detected: <span id="fillerCount">--</span></h3>
    </div>

    <div class="section">
      <h2>Speech Timeline</h2>
      <canvas id="speechChart" width="400" height="150"></canvas>
    </div>

    <div class="section">
      <h2>Suggestions</h2>
      <ul id="suggestionsList">
        <!-- Suggestions inserted here -->
      </ul>
    </div>

    <script>
      // Sample Data
      document.getElementById("confidenceScore").innerText = "82%";
      document.getElementById("fillerCount").innerText = "5";

      const suggestions = [
        "Try reducing usage of 'uh' and 'like'",
        "Speak slightly slower for clarity",
        "Vary your tone to sound more confident",
      ];
      const list = document.getElementById("suggestionsList");
      suggestions.forEach((s) => {
        const li = document.createElement("li");
        li.textContent = s;
        list.appendChild(li);
      });

      // Chart.js for pitch or volume over time
      const ctx = document.getElementById("speechChart").getContext("2d");
      new Chart(ctx, {
        type: "line",
        data: {
          labels: ["0s", "1s", "2s", "3s", "4s", "5s"],
          datasets: [
            {
              label: "Pitch (Hz)",
              data: [100, 120, 90, 110, 105, 100],
              borderColor: "blue",
              borderWidth: 2,
            },
          ],
        },
        options: {
          scales: {
            y: { beginAtZero: false },
          },
        },
      });
    </script>
  </body>
</html>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Feedback ‚Äì SpeakEasy</title>
    <style>
      body {
        background-color: #1e1e2f;
        color: #e0e0e0;
        font-family: Arial, sans-serif;
        padding: 30px;
      }
      .section {
        background-color: #2a2a40;
        margin-bottom: 20px;
        padding: 20px;
        border-radius: 10px;
      }
      h2 {
        color: #7c3aed;
      }
    </style>
  </head>
  <body>
    <h1>üó£Ô∏è Feedback for Your Speech</h1>

    <div class="section">
      <h2>üéß Audio Uploaded:</h2>
      <audio
        controls
        src="{{ url_for('uploaded_file', filename=filename) }}"
      ></audio>
    </div>

    <div class="section">
      <h2>üìù Transcription:</h2>
      <p>{{ feedback.transcription }}</p>
    </div>

    <div class="section">
      <h2>üöÄ Fluency Stats:</h2>
      <ul>
        <li>Words per Minute: {{ feedback.fluency.words_per_minute }}</li>
        <li>Filler Words: {{ feedback.fluency.filler_words }}</li>
        <li>Pauses: {{ feedback.fluency.pauses }}</li>
      </ul>
    </div>

    <div class="section">
      <h2>üìä Tone Timeline:</h2>
      <ul>
        {% for tone in feedback.tone %}
        <li>{{ tone.time }}s: {{ tone.tone }}</li>
        {% endfor %}
      </ul>
    </div>

    <div class="section">
      <h2>üí° Suggestions:</h2>
      <ul>
        {% for tip in feedback.feedback %}
        <li><strong>{{ tip.type }}:</strong> {{ tip.suggestion }}</li>
        {% endfor %}
      </ul>
    </div>
  </body>
</html>
